# Fault-based DFT and ATPG of a Counter

This repository presents a step-by-step Design for Testability (DFT) and Automatic Test Pattern Generation (ATPG) flow for a synchronous counter using the open-source **Fault** tool. The work demonstrates scan-based testability analysis through CUT (scan abstraction), fault coverage estimation, and test compaction.

---

## Objective

The objective of this work is to:
- Understand scan-based DFT concepts
- Apply CUT-based scan abstraction using the Fault tool
- Perform ATPG and fault simulation
- Analyze fault coverage and test compaction results

---

## Design Under Test (DUT)

The design under test is a **4-bit synchronous counter** written in Verilog HDL.  
It consists of:
- One clock input (`clk`)
- One asynchronous reset (`rst`)
- A 4-bit output (`q`)

---

## DFT and ATPG Flow

The complete automated flow followed in this work is:

RTL → Synthesis → CUT → ATPG → Fault Coverage → Test Compaction


### Description of Steps

1. **RTL Design**  
   The counter was described in Verilog HDL.

2. **Synthesis**  
   The RTL was synthesized into a gate-level netlist using Yosys through the Fault tool.

3. **CUT (Scan Abstraction)**  
   CUT was performed to break flip-flop feedback paths by treating flip-flop outputs as pseudo primary inputs and flip-flop inputs as pseudo primary outputs. This converts the sequential circuit into a scan-equivalent combinational model.

4. **ATPG**  
   ATPG was performed on the CUT netlist to generate test vectors for stuck-at faults.

5. **Fault Coverage Analysis**  
   Fault simulation was carried out to determine the percentage of detectable faults.

6. **Test Compaction**  
   Redundant test vectors were removed to reduce the total number of test patterns.

---

## Tools and Technology Used

- **Fault** – Open-source DFT and ATPG tool  
- **Yosys** – Logic synthesis (via OSS CAD Suite)  
- **Icarus Verilog** – Simulation and fault simulation  
- **OSU 0.35 µm Standard Cell Library** – Technology mapping and cell models  

---

## Repository Structure

counter-fault/
├── rtl/
│ └── counter.v
├── Netlists/
│ ├── counter.nl.v
│ ├── counter.cut.v
│ ├── counter.raw_tv.json
│ └── counter.tv.json
├── README.md


### File Description

- `rtl/counter.v`  
  RTL description of the counter

- `Netlists/counter.nl.v`  
  Synthesized gate-level netlist

- `Netlists/counter.cut.v`  
  CUT (scan-equivalent) netlist used for ATPG

- `Netlists/counter.raw_tv.json`  
  Raw test vectors generated by ATPG

- `Netlists/counter.tv.json`  
  Compacted test vectors after test compaction

---

## Results

- **Total fault sites identified:** 38  
- **Final fault coverage:** 78.95%  
- **Initial test vectors:** 16  
- **Compacted test vectors:** 5  
- **Test compaction ratio:** 68.75%

The remaining undetected faults are attributed to redundant logic and limited observability introduced by the CUT abstraction.

---

## Conclusion

This work demonstrates an automated scan-based DFT and ATPG flow using the Fault tool. CUT-based scan abstraction enabled ATPG on a sequential design without manual scan insertion. The results show effective fault coverage and significant test compaction, validating the usefulness of open-source DFT tools for testability analysis.

---

## References

- Fault Tool Documentation  
- OSU 0.35 µm Standard Cell Library  
- Course-provided IEEE papers on CUT-based ATPG
